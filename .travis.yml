language: ruby
sudo: required

services:
  - docker

env:
  - APP_HOST="http://localhost:8089"

before_install:
- git submodule init
- git submodule update
- sudo apt-get install xvfb qt5-default libqt5webkit5-dev gstreamer1.0-plugins-base gstreamer1.0-tools gstreamer1.0-x
- sudo docker build -t libhane .

script:
- cd examples/msgboard
- sudo docker-compose -d
- xvfb-run -a bundle exec rake