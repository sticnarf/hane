language: cpp
sudo: required
dist: trusty
compiler:
- gcc
- clang
os:
- linux

before_install:
- sudo add-apt-repository -y ppa:george-edison55/cmake-3.x
- sudo apt-get update
- sudo apt-get install -y libtool automake cmake
- wget https://cmake.org/files/v3.6/cmake-3.6.3-Linux-x86_64.tar.gz
- tar zxf cmake-3.6.3-Linux-x86_64.tar.gz
- wget http://dist.libuv.org/dist/v1.11.0/libuv-v1.11.0.tar.gz
- tar zxf libuv-v1.11.0.tar.gz
- cd libuv-v1.11.0
- ./autogen.sh
- ./configure
- make
- sudo make install
- mkdir ../build
- cd ../build

script:
- time ../cmake-3.6.3-Linux-x86_64/bin/cmake ..
- time make
